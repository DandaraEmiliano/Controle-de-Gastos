const transactionsUl=document.querySelector("#transactions"),balanceDisplay=document.querySelector("#balance"),incomeDisplay=document.querySelector("#money-plus"),expenseDisplay=document.querySelector("#money-minus"),form=document.querySelector("#form"),inputTransactionName=document.querySelector("#text"),inputTransactionAmount=document.querySelector("#amount"),localStorageTransactions=JSON.parse(localStorage.getItem("transactions"));let transactions=null===localStorage.getItem("transactions")?[]:localStorageTransactions;function updateLocalStorage(){localStorage.setItem("transactions",JSON.stringify(transactions))}function addTransactions({id:a,name:b,amount:c}){const d=0>c?"-":"+",e=0>c?"minus":"plus",f=Math.abs(c),g=document.createElement("li");g.classList.add(e),g.innerHTML=`
    ${b} <span>${d} R$ ${f.toFixed(2)}</span>
    <button class="delete-btn" onClick="removeTransaction(${a})">x</button>
    `,transactionsUl.prepend(g)}function removeTransaction(a){transactions=transactions.filter(b=>b.id!==a),updateLocalStorage(),init()}function getTotal(a){return a.reduce((a,b)=>a+b,0).toFixed(2)}function getIncome(a){return a.filter(a=>0<=a).reduce((a,b)=>a+b,0).toFixed(2)}function getExpense(a){return Math.abs(a.filter(a=>0>a).reduce((a,b)=>a+b,0)).toFixed(2)}function updateBalanceValues(){const a=transactions.map(a=>a.amount);balanceDisplay.textContent=`R$ ${getTotal(a)}`,incomeDisplay.textContent=`R$ ${getIncome(a)}`,expenseDisplay.textContent=`R$ ${getExpense(a)}`}function generateId(){return Math.round(Math.random()*Number.MAX_SAFE_INTEGER)}function init(){transactionsUl.innerHTML="",transactions.forEach(addTransactions),updateBalanceValues()}function addToTransactionArray(a,b){transactions.push({id:generateId(),name:a,amount:+b})}function clearInputs(){inputTransactionName.value="",inputTransactionAmount.value=""}function handleFormSubmit(a){a.preventDefault();const b=inputTransactionName.value.trim(),c=inputTransactionAmount.value.trim();return b&&c?void(addToTransactionArray(b,c),init(),updateLocalStorage(),clearInputs()):void alert("Informe Nome e Valor da transa\xE7\xE3o")}init(),form.addEventListener("submit",handleFormSubmit);
